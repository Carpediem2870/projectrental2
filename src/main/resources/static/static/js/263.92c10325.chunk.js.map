{"version":3,"file":"static/js/263.92c10325.chunk.js","mappings":"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","sources":["api/my/my_api.js","components/joinpopup/JoinPopUp.js","hooks/useCustomLogin.js","pages/my/MyWithDrawPage.js","styles/join/JoinFirstPageStyle.js","styles/join/JoinPageStyle.js","styles/login/LoginPageStyle.js","util/jwtUtil.js"],"sourcesContent":["import axios from \"axios\";\r\nimport { SERVER_URL } from \"../config\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport { jwtAxios } from \"../../util/jwtUtil\";\r\nconst path = `${SERVER_URL}/api/mypage`;\r\nconst path2 = `${SERVER_URL}/api`\r\n\r\nconst failPostDatas = () => {\r\n  const navigate = useNavigate();\r\n  navigate(\"/\");\r\n};\r\n\r\n\r\n\r\nexport const getMyRental = async (page,role) => {\r\n  try {\r\n    const url = `${path}/prod?page=${page}&role=${role}`;\r\n    const res = await jwtAxios.get(url);\r\n    return res.data;\r\n  } catch (error) {\r\n    console.log(error);\r\n    failPostDatas(\"/\");\r\n  }\r\n};\r\n\r\nexport const getMyInterest = async (page) => {\r\n  try {\r\n    const url = `${path}/fav?page=${page}`;\r\n    const res = await jwtAxios.get(url);\r\n    return res.data;\r\n  } catch (error) {\r\n    console.log(error);\r\n    failPostDatas(\"/\");\r\n  }\r\n};\r\n\r\nexport const getMyReview = async (page) => {\r\n  try {\r\n    const url = `${path}/review?page=${page}`;\r\n    const res = await jwtAxios.get(url);\r\n    return res.data;\r\n  } catch (error) {\r\n    console.log(error);\r\n    failPostDatas(\"/\");\r\n  }\r\n}\r\n\r\nexport const getProdReview = async () => {\r\n  try {\r\n    const url = `${path}/prod/review`;\r\n    const res = await jwtAxios.get(url);\r\n    return res.data;\r\n  } catch (error) {\r\n    console.log(error);\r\n    failPostDatas(\"/\");\r\n  }\r\n}\r\n\r\nexport const getMyUser = async (iuser) => {\r\n  try {\r\n    const url = `${path2}/user?tar=${iuser}`;\r\n    const res = await jwtAxios.get(url);\r\n    return res.data;\r\n  } catch (error) {\r\n    console.log(error);\r\n    failPostDatas(\"/\");\r\n  }\r\n}\r\n\r\nexport const putMyInfo = async ({product}) => {\r\n  try {\r\n    const header = {headers: {\"Content-Type\": \"multipart/form-data\"}};\r\n    const url = `${path2}/user`\r\n    const res = await jwtAxios.put(url, product, header);\r\n    return res.data;\r\n  } catch (error) {\r\n    console.log(error);\r\n  }\r\n};\r\n\r\nexport const patchWithdraw = async (data) => {\r\n  try {\r\n    const url = `${path2}/user`\r\n    const res = await jwtAxios.patch(url,data);\r\n    return res.data;\r\n  } catch (error) {\r\n    console.log(error);\r\n    failPostDatas(\"/\");\r\n  }\r\n};\r\n\r\n","import styled from \"@emotion/styled\";\r\nimport React from \"react\";\r\n\r\nexport const ModalBackground = styled.div`\r\nposition: fixed;\r\ntop: 0;\r\nleft: 0;\r\nwidth: 100%;\r\nheight: 100%;\r\nbackground: rgba(0, 0, 0, 0.5);\r\nz-index: 999;\r\n`\r\n\r\nconst JoinPopUp = ({ txt, onConfirm }) => {\r\n  const JoinPopUp = styled.div`\r\n    position: fixed;\r\n    top: 50%;\r\n    left: 50%;\r\n    transform: translate(-50%, -50%);\r\n    z-index: 1000;\r\n\r\n    width: 300px;\r\n    height: 180px;\r\n    display: flex;\r\n\r\n    flex-direction: column;\r\n    justify-content: center;\r\n    align-items: center;\r\n    gap: 30px;\r\n\r\n    border-radius: 10px;\r\n    border: 1px solid #2c39b5;\r\n    background: #fff;\r\n    b {\r\n      color: #000;\r\n      text-align: center;\r\n      font-size: 20px;\r\n      font-style: normal;\r\n      font-weight: 400;\r\n      line-height: normal;\r\n    }\r\n    button {\r\n      width: 100px;\r\n      height: 50px;\r\n      border-radius: 5px;\r\n      border: none;\r\n      background: #2c39b5;\r\n      cursor: pointer;\r\n      color: #fff;\r\n      font-size: 20px;\r\n      font-style: normal;\r\n      font-weight: 400;\r\n      line-height: normal;\r\n    }\r\n  `;\r\n\r\n  return (\r\n    <JoinPopUp>\r\n      <b>{txt}</b>\r\n      <button onClick={onConfirm}>확인</button>\r\n    </JoinPopUp>\r\n  );\r\n};\r\n\r\nexport default JoinPopUp;\r\n","import { useDispatch, useSelector } from \"react-redux\";\r\nimport { Navigate, useNavigate } from \"react-router-dom\";\r\nimport { loginPostAsync, logout } from \"../slices/loginSlice\";\r\n\r\nconst useCustomLogin = () => {\r\n  const navigate = useNavigate();\r\n  const dispatch = useDispatch();\r\n  // RTK 상태값 읽기\r\n  const loginState = useSelector(state => state.loginSlice);\r\n  // 로그인 상태값 파악\r\n  const isLogin = sessionStorage.getItem('isLogin') === 'true';\r\n  // 로그인 기능\r\n  const doLogin = async ({ loginParam, successFn, failFn, errorFn }) => {\r\n    const action = await dispatch(\r\n      loginPostAsync({ loginParam, successFn, failFn, errorFn }),\r\n    );\r\n    return action.payload;\r\n  };\r\n  // 로그아웃 기능\r\n  const doLogout = () => {\r\n    dispatch(logout());\r\n  };\r\n  // 패스이동 기능\r\n  const moveToPath = path => {\r\n    navigate({ pathname: path }, { replace: true });\r\n  };\r\n  // 로그인 페이지 이동 기능\r\n  const moveToLogin = () => {\r\n    return <Navigate replace to=\"/member/login\" />;\r\n  };\r\n\r\n  return { loginState, isLogin, doLogin, doLogout, moveToPath, moveToLogin };\r\n};\r\n\r\nexport default useCustomLogin;\r\n","import React, { useEffect, useState } from 'react'\r\nimport { JoinHeader } from '../../styles/join/JoinFirstPageStyle'\r\nimport { IdBox, LoginBox, PwBox } from '../../styles/login/LoginPageStyle'\r\nimport { BtSection, CancelBt,  SaveBt } from '../../styles/join/JoinPageStyle'\r\nimport { patchWithdraw } from \"../../api/my/my_api\";\r\nimport styled from '@emotion/styled';\r\nimport useCustomLogin from '../../hooks/useCustomLogin';\r\nimport { useNavigate } from 'react-router';\r\nimport JoinPopUp, { ModalBackground } from '../../components/joinpopup/JoinPopUp';\r\n\r\nconst MyWithDrawPw = styled.div`\r\n  display: flex;\r\n  justify-content: space-between;\r\n  width: 390px;\r\n  position: relative;\r\n  /* background: pink; */\r\n  img {\r\n    width: 180px;\r\n    height: 180px;\r\n    border-radius: 5px;\r\n    border: 1px solid #2c39b5;\r\n  }\r\n  input {\r\n    position: relative;\r\n    border-radius: 5px;\r\n    border: 1px solid #2c39b5;\r\n    width: 100%;\r\n    height: 50px;\r\n    border-radius: 10px;\r\n    border: 1px solid #2c39b5;\r\n    padding-left: 20px;\r\n    color: #000;\r\n    font-size: 14px;\r\n    font-style: normal;\r\n    font-weight: 400;\r\n    line-height: normal;\r\n    margin-bottom: 10px;\r\n  }\r\n  button {\r\n    position: absolute;\r\n    right: 3px;\r\n    top: 7px;\r\n  }\r\n`\r\n\r\nconst MyWithDrawPage = () => {\r\n  const [id, setId] = useState('');\r\n  const [password, setPassword] = useState('');\r\n  const [phone, setPhone] = useState('');\r\n\r\n  // 비밀번호 보이기/감추기\r\n  const [showPassword, setShowPassword] = useState(false);\r\n\r\n  const { doLogout } = useCustomLogin();\r\n  const [showModal, setShowModal] = useState(false);\r\n  const [withdrawError, setWithdrawError] = useState('');\r\n  const navigate = useNavigate();\r\n\r\n  const resetValues = () => {\r\n    setId('');\r\n    setPassword('');\r\n    setPhone('');\r\n    setShowPassword(false);\r\n  };\r\n\r\n  const closeModal = () => {\r\n    if (!withdrawError) {\r\n      doLogout();\r\n    }\r\n    setShowModal(false);\r\n    navigate(`/my?rental`, { state: { selectedItem: \"대여중\" } });\r\n    sessionStorage.setItem('selectedItem', \"대여중\");\r\n  };\r\n\r\n  const handleTogglePassword = () => {\r\n    setShowPassword(prev => !prev);\r\n  };\r\n\r\n    const handleWithdraw = async () => {\r\n      try {\r\n        const data = {\r\n          uid: id,\r\n          upw: password,\r\n          phone: phone\r\n        };\r\n        await patchWithdraw(data);\r\n        setShowModal(true);\r\n      } catch (error) {\r\n        console.error(error);\r\n        setWithdrawError('거래중인 내역이 있어 탈퇴할 수 없습니다');\r\n        setShowModal(true);\r\n      }\r\n    };\r\n\r\n    const handleLogOut = () => {\r\n      handleWithdraw();\r\n    }\r\n    const handleCancel = () => {\r\n      resetValues();\r\n    };\r\n\r\n  return (\r\n    <>\r\n        <JoinHeader mgtop={\"0\"} mgbtm={\"0\"}>\r\n          <p>회원탈퇴</p>\r\n        </JoinHeader>\r\n        <LoginBox mgbtm={\"80px\"}>\r\n          <p>\r\n          ※ 탈퇴한 아이디로는 다시 가입할 수 없습니다.\r\n          <br />\r\n            ※ 탈퇴한 뒤에는 아이디 및 데이터를 복구할 수 없으니 \r\n            <br />\r\n            신중히 진행하세요.\r\n          </p>\r\n          <IdBox type=\"text\" maxLength={15} placeholder=\"아이디\" \r\n          value={id} onChange={(e) => setId(e.target.value)}/>\r\n          <MyWithDrawPw>\r\n            <input\r\n                type={showPassword ? \"text\" : \"password\"}\r\n                placeholder=\"비밀번호\"\r\n                value={password}\r\n                onChange={(e) => setPassword(e.target.value)}\r\n              />\r\n                <button\r\n                type=\"button\"\r\n                style={{\r\n                  background: \"transparent\",\r\n                  border: `none`,\r\n                  width: `0px`,\r\n                  height: `0px`,\r\n                }}\r\n                onClick={handleTogglePassword}\r\n              >\r\n                {showPassword ? (\r\n                  <img\r\n                    src=\"/images/join/eye_open.png\"\r\n                    style={{\r\n                      width: `20px`,\r\n                      height: `20px`,\r\n                      border: `none`,\r\n                      transform: \"translate(-150%, 40%)\",\r\n                    }}\r\n                  />\r\n                ) : (\r\n                  <img\r\n                    src=\"/images/join/eye_close.png\"\r\n                    style={{\r\n                      width: `20px`,\r\n                      height: `20px`,\r\n                      border: `none`,\r\n                      transform: \"translate(-150%, 40%)\",\r\n                    }}\r\n                  />\r\n                )}\r\n              </button>\r\n              </MyWithDrawPw>  \r\n          \r\n          <PwBox type=\"text\" maxLength={14} placeholder=\"휴대폰 번호\" \r\n          value={phone} onChange={(e) => setPhone(e.target.value)}/>\r\n            <BtSection mgtop={\"40px\"} mgbtm={\"20px\"} width={\"380px\"}>\r\n                <CancelBt onClick={handleCancel}>취소</CancelBt>\r\n                <SaveBt onClick={handleLogOut}>탈퇴</SaveBt>\r\n                {showModal && (\r\n                  <>\r\n                    <JoinPopUp\r\n                      txt={withdrawError || \"회원 탈퇴 하셨습니다.\"}\r\n                      onConfirm={closeModal}\r\n                    />\r\n                    <ModalBackground></ModalBackground>\r\n                  </>\r\n                )}\r\n            </BtSection>\r\n        </LoginBox>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default MyWithDrawPage","import styled from \"@emotion/styled\";\r\n\r\nexport const JoinFirstPageStyle = styled.div`\r\n  width: 1300px;\r\n  text-align: center;\r\n  margin: 0 auto;\r\n  /* background: skyblue; */\r\n`;\r\nexport const JoinHeader = styled.div`\r\n  margin-top: ${props => (props.mgtop ? props.mgtop : \"0px\")};\r\n  text-align: center;\r\n  p {\r\n    color: #000;\r\n    font-size: 23px;\r\n    font-style: normal;\r\n    font-weight: 400;\r\n    line-height: normal;\r\n\r\n    margin-bottom: ${props => (props.mgbtm ? props.mgbtm : \"60px\")};\r\n  }\r\n  img {\r\n    width: 550px;\r\n    height: 63px;\r\n    margin-bottom: 70px;\r\n  }\r\n`;\r\nexport const JoinMain = styled.div`\r\n  width: 980px;\r\n  /* text-align: center; */\r\n  margin: 0 auto;\r\n`;\r\nexport const JoinAgreement = styled.div`\r\n  width: 980px;\r\n  padding: 25px;\r\n  border-radius: 10px;\r\n  border: 1px solid #2c39b5;\r\n  margin: 0 auto;\r\n  h1 {\r\n    color: #777;\r\n    font-size: 22px;\r\n    font-style: normal;\r\n    font-weight: 400;\r\n    line-height: normal;\r\n\r\n    text-align: start;\r\n  }\r\n  h2 {\r\n    color: #777;\r\n    font-size: 14px;\r\n    font-style: normal;\r\n    font-weight: 400;\r\n    line-height: normal;\r\n\r\n    text-align: start;\r\n  }\r\n`;\r\nexport const RadioBox = styled.div`\r\n  text-align: start;\r\n  padding: 15px 0;\r\n\r\n  color: #777;\r\n  font-size: 22px;\r\n  font-style: normal;\r\n  font-weight: 400;\r\n  line-height: normal;\r\n  input[type=\"radio\"] {\r\n    width: 17px;\r\n    height: 17px;\r\n    margin-right: 10px;\r\n    cursor: pointer;\r\n  }\r\n  input[type=\"radio\"] + label {\r\n    margin-right: 25px;\r\n    cursor: pointer;\r\n  }\r\n  input[type=\"radio\"]:checked + label {\r\n    color: #000;\r\n  }\r\n`;\r\nexport const ConfirmBt = styled.button`\r\n  width: 200px;\r\n  height: 50px;\r\n  border-radius: 10px;\r\n  background: #2c39b5;\r\n  margin: 100px auto;\r\n  border: none;\r\n  cursor: pointer;\r\n\r\n  color: #fff;\r\n  font-size: 22px;\r\n  font-style: normal;\r\n  font-weight: 400;\r\n  line-height: normal;\r\n`;\r\n","import styled from \"@emotion/styled\";\r\n\r\nexport const JoinPageStyle = styled.div`\r\n  width: 1300px;\r\n  text-align: center;\r\n  margin: 0 auto;\r\n  /* background: skyblue; */\r\n`;\r\nexport const JoinBox = styled.form`\r\n  width: 980px;\r\n  /* height: 700px; */\r\n  border-radius: 10px;\r\n  border: 1px solid #2c39b5;\r\n  margin: ${props => props.margin ? props.margin : \"0 auto 100px\"};\r\n  padding: 60px 90px;\r\n`;\r\n\r\nexport const JoinElement = styled.div`\r\n  display: flex;\r\n  justify-content: space-between;\r\n  margin-top: 15px;\r\n  margin-bottom: 3px;\r\n`;\r\nexport const JoinElementTxt = styled.div`\r\n  display: flex;\r\n  p {\r\n    color: #000;\r\n    font-size: 16px;\r\n    font-style: normal;\r\n    font-weight: 400;\r\n    line-height: normal;\r\n  }\r\n  span {\r\n    color: #ff0303;\r\n    font-size: 13px;\r\n    font-style: normal;\r\n    font-weight: 400;\r\n    line-height: normal;\r\n  }\r\n`;\r\nexport const JoinElementInputBox = styled.div`\r\n  display: block;\r\n  text-align: start;\r\n`;\r\nexport const JoinElementInput = styled.div`\r\n  display: flex;\r\n  justify-content: space-between;\r\n  width: 600px;\r\n  /* background: pink; */\r\n  img {\r\n    width: 180px;\r\n    height: 180px;\r\n    object-fit: cover;\r\n    border-radius: 5px;\r\n    border: 1px solid #2c39b5;\r\n  }\r\n  input {\r\n    border-radius: 5px;\r\n    border: 1px solid #2c39b5;\r\n\r\n    width: ${props => (props.width ? props.width : \"600px\")};\r\n    height: 36px;\r\n    padding-left: 15px;\r\n\r\n    color: #000;\r\n    font-size: 16px;\r\n    font-style: normal;\r\n    font-weight: 400;\r\n    line-height: normal;\r\n  }\r\n  div {\r\n    border-radius: 5px;\r\n    border: 1px solid #2c39b5;\r\n\r\n    width: ${props => (props.width ? props.width : \"600px\")};\r\n    height: 36px;\r\n    padding-left: 15px;\r\n\r\n    color: #000;\r\n    font-size: 16px;\r\n    font-style: normal;\r\n    font-weight: 400;\r\n    line-height: ${props => (props.lineHight ? props.lineHight : \"normal\")};\r\n  }\r\n  /* input[type=\"file\"] {\r\n    width: 180px;\r\n    height: 180px;\r\n  } */\r\n  /* input[type=\"text\"] {\r\n    width: ${props => (props.width ? props.width : \"600px\")};\r\n    height: 36px;\r\n    padding-left: 15px;\r\n\r\n    color: #000;\r\n    font-size: 16px;\r\n    font-style: normal;\r\n    font-weight: 400;\r\n    line-height: normal;\r\n  } */\r\n`;\r\nexport const InputValid = styled.div`\r\n  color: red;\r\n  font-size: 15px;\r\n`;\r\nexport const ImageInputBt = styled.button`\r\n  background: transparent;\r\n  border: none;\r\n  cursor: pointer;\r\n`;\r\nexport const JoinAddressInput = styled.div`\r\n  display: block;\r\n  width: 600px;\r\n  text-align: start;\r\n  input {\r\n    border-radius: 5px;\r\n    border: 1px solid #2c39b5;\r\n    width: 600px;\r\n    height: 36px;\r\n    padding-left: 15px;\r\n    margin-top: 10px;\r\n\r\n    color: #000;\r\n    font-size: 16px;\r\n    font-style: normal;\r\n    font-weight: 400;\r\n    line-height: normal;\r\n  }\r\n`;\r\nexport const ShowPasswordBt =styled.button`\r\nbackground: transparent;\r\nborder: none;\r\nwidth: 0px;\r\nheight: 0px;\r\n`;\r\nexport const ShowPasswordImg = styled.img`\r\n  width: 20px !important;\r\n  height: 20px !important;\r\n  border: none !important;\r\n  transform: translate(-150%, 40%);\r\n  cursor: pointer;\r\n`;\r\nexport const ConfirmBt = styled.button`\r\n  width: 105px;\r\n  height: 36px;\r\n  border-radius: 5px;\r\n  border: 1px solid #2c39b5;\r\n  background: #2c39b5;\r\n  cursor: pointer;\r\n\r\n  color: #fff;\r\n  font-size: 16px;\r\n  font-style: normal;\r\n  font-weight: 400;\r\n  line-height: normal;\r\n`;\r\n// export const AddressBt = styled.button`\r\n//   width: 105px;\r\n//   height: 36px;\r\n//   border-radius: 5px;\r\n//   border: 1px solid #2c39b5;\r\n//   background: #fff;\r\n\r\n//   color: #777;\r\n//   font-size: 16px;\r\n//   font-style: normal;\r\n//   font-weight: 400;\r\n//   line-height: normal;\r\n// `;\r\nexport const BtSection = styled.div`\r\n  display: flex;\r\n  justify-content: center;\r\n  gap: 10px;\r\n  width: ${props => (props.width ? props.width : \"\")};\r\n  margin-top: ${props => (props.mgtop ? props.mgtop : \"60px\")};\r\n  margin-bottom: ${props => (props.mgbtm ? props.mgbtm : \"90px\")};\r\n`;\r\nexport const CancelBt = styled.button`\r\n  width: 150px;\r\n  height: 50px;\r\n  border-radius: 10px;\r\n  background: #f2f2ff;\r\n  border: none;\r\n  cursor: pointer;\r\n\r\n  color: #2c39b5;\r\n  font-size: 22px;\r\n  font-style: normal;\r\n  font-weight: 400;\r\n  line-height: normal;\r\n`;\r\nexport const SaveBt = styled(CancelBt)`\r\n  background: #2c39b5;\r\n  color: #fff;\r\n  cursor: pointer;\r\n`;\r\n","import styled from \"@emotion/styled\";\r\n\r\nexport const LoginPageStyle = styled.div`\r\n  width: 1300px;\r\n  /* text-align: center; */\r\n  margin: 0 auto;\r\n  /* background: skyblue; */\r\n  padding-bottom: 120px;\r\n`;\r\nexport const LogoZone = styled.div`\r\nwidth: 100%;\r\ntext-align: center;\r\n`;\r\nexport const Logo = styled.img`\r\n  margin: 0px auto 30px auto;\r\n  width: 80px;\r\n  height: 60px;\r\n  background-color: transparent;\r\n`;\r\nexport const LoginBox = styled.div`\r\n  margin: 0 auto;\r\n  /* box-sizing: border-box; */\r\n  width: 450px;\r\n  height: ${props => (props.height ? props.height : \"540px\")};\r\n  /* height: 540px; */\r\n  border-radius: 10px;\r\n  border: 1px solid #2c39b5;\r\n  padding-left: 30px;\r\n  p {\r\n    margin-top: 50px;\r\n    margin-bottom: ${props => (props.mgbtm ? props.mgbtm : \"160px\")};\r\n\r\n    color: #000;\r\n    font-family: KyivType Sans;\r\n    font-size: 14px;\r\n    font-style: normal;\r\n    font-weight: 350;\r\n    line-height: normal;\r\n  }\r\n  li {\r\n    position: relative;\r\n    cursor: pointer;\r\n\r\n    color: #000;\r\n    font-family: KyivType Sans;\r\n    font-size: 12px;\r\n    font-style: normal;\r\n    font-weight: 400;\r\n    line-height: normal;\r\n  }\r\n  \r\n`;\r\nexport const IdBox = styled.input`\r\n  width: 390px;\r\n  height: 50px;\r\n  border-radius: 10px;\r\n  border: 1px solid #2c39b5;\r\n  padding-left: 20px;\r\n\r\n  color: #000;\r\n  font-size: 14px;\r\n  font-style: normal;\r\n  font-weight: 400;\r\n  line-height: normal;\r\n\r\n  margin-bottom: 10px;\r\n`;\r\nexport const PwBox = styled(IdBox)`\r\n  margin-bottom: 30px;\r\n`;\r\nexport const LoginBt = styled.button`\r\n  width: 390px;\r\n  height: 50px;\r\n  border-radius: 10px;\r\n  background: #2c39b5;\r\n  margin-bottom: 20px;\r\n\r\n  color: #fff;\r\n  font-size: 14px;\r\n  font-style: normal;\r\n  font-weight: 400;\r\n  line-height: normal;\r\n  cursor: pointer;\r\n`;\r\nexport const DivisionLine = styled.div`\r\n  width: 1px;\r\n  height: 15px;\r\n  background: #2c39b5;\r\n`;\r\n","import axios from \"axios\";\r\nimport { getCookie, setCookie } from \"./cookieUtil\";\r\nimport { SERVER_URL } from \"../api/config\";\r\n\r\nexport const jwtAxios = axios.create();\r\n\r\nconst beforeReq = config => {\r\n  // console.log(\"1. 요청전 전달\", config);\r\n  // console.log(\"2. 쿠키로 토큰가져오기\");\r\n  const memberInfo = getCookie(\"member\");\r\n\r\n  if (!memberInfo) {\r\n    // console.log(\"쿠키 정보 없네요.\");\r\n    return Promise.reject({ response: { data: { error: \"Login하세요.\" } } });\r\n  }\r\n  // console.log(\"3. 쿠키에서 토큰 정보를 뜯는다.\");\r\n  const { accessToken } = memberInfo;\r\n  // console.log(\"4. 엑세스토큰 정보\", accessToken);\r\n  config.headers.Authorization = `Bearer ${accessToken}`;\r\n  return config;\r\n};\r\n\r\nconst requestFail = error => {\r\n  // console.log(\"요청후 실패시\", error);\r\n  return Promise.reject(error);\r\n};\r\n\r\nconst refreshJWT = async (accessToken, refreshToken) => {\r\n  const host = SERVER_URL;\r\n  const header = { headers: { Authorization: `Bearer ${accessToken}` } };\r\n  const res = await axios.get(\r\n    `${host}/api/user/refresh-token?refreshToken=${refreshToken}`,\r\n    header,\r\n  );\r\n  // console.log(\"1. refreshToken 토큰 요청\");\r\n  // console.log(\"2. 백엔드에서 새로 준 값\", res.data);\r\n  return res.data;\r\n};\r\n\r\nconst beforeRes = async res => {\r\n  // console.log(\"Response 전처리\", res);\r\n  const data = res.data;\r\n  // console.log(\"1. Response 오기전 서버 전달해준 데이터, data\");\r\n  if (data && data.error === \"ERROR_ACCESS_TOKEN\") {\r\n    // console.log(\"2. 일반적 오류가 아닌 엑세스 토큰 에러입니다.\");\r\n    // console.log(\"3. 새로운 토큰을 요청해야 합니다.\");\r\n    // console.log(\"4. 쿠키에 있는 정보를 읽어서 다시 시도합니다.\");\r\n    const memberInfo = getCookie(\"member\");\r\n    // console.log(\"5. 쿠키 토큰 정보 AccessToken\", memberInfo.accessToken);\r\n    // console.log(\"6. 쿠키 토큰 정보 RefreshToken\", memberInfo.refreshToken);\r\n    // console.log(\"7. 위의 정보로 새로운 토큰을 요청합니다.\");\r\n    const result = await refreshJWT(\r\n      memberInfo.accessToken,\r\n      memberInfo.refreshToken,\r\n    );\r\n    // console.log(\"8. 요청 이후 되돌아와서 새로운 정보로 쿠키를 업데이트\");\r\n    (memberInfo.accessToken = result.accessToken),\r\n      (memberInfo.refreshToken = result.refreshToken),\r\n      setCookie(\"member\", JSON.stringify(memberInfo));\r\n\r\n    // console.log(\"9. 데이터 요청하던 API 재요청\");\r\n    const originalRequest = res.config;\r\n    originalRequest.headers.Authorization = `Bearer ${result.accessToken}`;\r\n    return await axios(originalRequest);\r\n  }\r\n  return res;\r\n};\r\n\r\nconst responseFail = error => {\r\n  // console.log(\"Response Fail Err\", error);\r\n  return Promise.reject(error);\r\n};\r\n\r\njwtAxios.interceptors.request.use(beforeReq, requestFail);\r\njwtAxios.interceptors.response.use(beforeRes, responseFail);\r\n"],"names":["path","concat","SERVER_URL","path2","failPostDatas","useNavigate","navigate","getMyRental","async","page","role","url","jwtAxios","get","data","error","console","log","getMyInterest","getMyReview","getProdReview","getMyUser","iuser","putMyInfo","product","_ref","header","headers","put","patchWithdraw","patch","ModalBackground","styled","div","_templateObject","_taggedTemplateLiteral","txt","onConfirm","JoinPopUp","_templateObject2","_jsxs","children","_jsx","onClick","useCustomLogin","dispatch","useDispatch","loginState","useSelector","state","loginSlice","isLogin","sessionStorage","getItem","doLogin","loginParam","successFn","failFn","errorFn","loginPostAsync","payload","doLogout","logout","moveToPath","pathname","replace","moveToLogin","Navigate","to","MyWithDrawPw","MyWithDrawPage","id","setId","useState","password","setPassword","phone","setPhone","showPassword","setShowPassword","showModal","setShowModal","withdrawError","setWithdrawError","_Fragment","JoinHeader","mgtop","mgbtm","LoginBox","IdBox","type","maxLength","placeholder","value","onChange","e","target","style","background","border","width","height","handleTogglePassword","prev","src","transform","PwBox","BtSection","CancelBt","handleCancel","SaveBt","handleLogOut","uid","upw","handleWithdraw","closeModal","selectedItem","setItem","JoinFirstPageStyle","props","JoinMain","_templateObject3","JoinAgreement","_templateObject4","RadioBox","_templateObject5","ConfirmBt","button","_templateObject6","JoinPageStyle","JoinBox","form","margin","JoinElement","JoinElementTxt","JoinElementInputBox","JoinElementInput","lineHight","InputValid","_templateObject7","ImageInputBt","_templateObject8","JoinAddressInput","_templateObject9","ShowPasswordBt","_templateObject10","ShowPasswordImg","img","_templateObject11","_templateObject12","_templateObject13","_templateObject14","_templateObject15","LoginPageStyle","LogoZone","Logo","input","LoginBt","DivisionLine","axios","create","interceptors","request","use","config","memberInfo","getCookie","Promise","reject","response","accessToken","Authorization","res","result","refreshToken","host","refreshJWT","setCookie","JSON","stringify","originalRequest"],"sourceRoot":""}